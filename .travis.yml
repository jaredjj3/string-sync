addons:
  postgresql: 9.6
dist: trusty
language: ruby
cache:
  bundler: true
  directories:
    - client/node_modules
    - "/home/travis/.rvm/"
before_script:
  - bundle exec rails db:create RAILS_ENV=test
test:
  adapter: postgresql
  database: string-sync_test
  username: postgres
rvm:
  - 2.3.1
script:
  - bundle exec rails test
  - cd client && npm install && npm run test && cd ..
env:
  global:
    secure: kUheTymsuegxDA2ybuhg6bBN2A+zxk8ScbKrPZ/khTjeZfjnBsLK94A/NOpbCRsSsutRraKczd3zjFGwFIZKbIRoVpF+1s1JhOC56FCC9RLDHJ1yMeNM02QKR7+a66F5M4euGklpzFzMY1DJehrXLD7XlPm2nq2RducNWER3MVtes3gdk52/t5QLt6ukd9Oj2H2hSUBefDF+IHab8C4iUc1tiXDSjbIJffBVFyvOcNFLp5cckIHVfHO2pku1skBRune424R+S/r2Kc8nUcSn2Wr36Ce1Gds8ZvDnU45mfy7rik0W+sxU9PtZ40qWj5d70+p0eHlpQ8jYmwVS00AgcY4vLT4aNpWbJV5qjdDWthJVftOErJHz7uVsIHMYkBLsDfEYvDPgePP2IU5CG+RrhoFQA964taxB0Eokry7eOHADloeztf9yz3uV1XI7YIfwO6jIG7ODRHq9OmMDNxk1U0qAusI4LceR2sz5K9BeM7J+0l6JBXUcI9+S/EYrMiPi15tK98x8tuSWG3vhn48dHj4uCUMcMm/AKv0l1Ky/Klu0hrg384Q3GYcWxfKC//djdYCg/JwMWPwQ9W/DPgJkdXK84QLvK6ef9JIcu025B+FzRERfu3rSkD8THDmrU61HzDmEYZdPR4j4tEYpXKoHfwMyfdPRW74ej6nIwLt1GrE=
deploy:
  provider: heroku
  app: string-sync-beta
  api_key:
    secure: xxYyIVaZ4t+g8n4889knjDLswsTx8VttOVIHrzPftUZ6EBVJJyhyr4rB0t47Gi5QbzzW1eJ4awFIpaVeJ3wvNhCmwTP+xlHxpefd5TUhPz5IhO/YsZZvcz3p8ELMaNp826C3tXw2qqTkRISDXDf9se5hJ5JJxygIo786cNvFNgBIvRcVmuct6aKUGAnVZWUK/BnrRTdQH93KEZEqutILc8ywPT4K14xnMadLtlC4F+nH8lFpOlo/TWFQmDaufswdV6ph8thet82Qi7tl4tgoIdqAV+s05a4EbpWCpT/5rAskYQx8mNLG3bRGOLBl5D+uGCkP67noeo+XUZIj2m3+Xi73U/tAaKfU02giUqAa2w8yTwsNu7+dj8d9qfZEobuhH7x5d895qVELLLVp5NxXEV07pKzhZ3a5bNd4zU/8dzp9zJbTvNQOwjKrqB+g5il7oZLaCT1Ak6ok90gshiQY+bApfLkBeEl3o0BsxbpqPSOfAJov6JALnwBymqi2RQOwvYReM4LYO+1hteaZTnSrsX5wJaXh//CPUN4s5rgSNW5fgAKNr7wyWS1zJJvhMX5i1ykQaZ6nZmzf+DZEyfMcwkJ3bG7shLY0rNn+Gho7ZjN3cvSSD1Zk50L2k2ydHMvzOgoZN19jBrFnFh55bvGEU6wb7IO+A7uX7g9tcp/u40s=
